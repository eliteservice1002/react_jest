{"version":3,"sources":["../../../src/hooks/usePortal.tsx"],"names":["useEffect","useRef","createRootElement","id","rootEl","document","createElement","setAttribute","body","appendChild","usePortal","rootRef","existingEl","querySelector","parentElem","current","remove","getRootElem"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;;AAEA,IAAMC,iBAAiB,GAAIC,EAAD,IAA6B;AACrD,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACAF,EAAAA,MAAM,CAACG,YAAP,CAAoB,IAApB,EAA0BJ,EAA1B;AACAE,EAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,MAA1B;AACA,SAAOA,MAAP;AACD,CALD;;AAOA,OAAO,IAAMM,SAAS,GAAIP,EAAD,IAA6B;AACpD,MAAMQ,OAAO,GAAGV,MAAM,CAAiB,IAAjB,CAAtB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAMY,UAAU,GAAGP,QAAQ,CAACQ,aAAT,OAA2BV,EAA3B,CAAnB;AACA,QAAMW,UAAU,GAAGF,UAAU,IAAIV,iBAAiB,CAACC,EAAD,CAAlD;AACAW,IAAAA,UAAU,CAACL,WAAX,CAAuBE,OAAO,CAACI,OAA/B;AAEA,WAAO,MAAMJ,OAAO,CAACI,OAAR,CAAgBC,MAAhB,EAAb;AACD,GANQ,EAMN,CAACb,EAAD,CANM,CAAT,CAHoD,CAWpD;;AACA,MAAMc,WAAW,GAAG,MAAmB;AACrC,QAAI,CAACN,OAAO,CAACI,OAAb,EAAsB;AACpBJ,MAAAA,OAAO,CAACI,OAAR,GAAkBV,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AACD;;AACD,WAAOK,OAAO,CAACI,OAAf;AACD,GALD;;AAOA,SAAOE,WAAW,EAAlB;AACD,CApBM","sourcesContent":["import { useEffect, useRef } from 'react';\n\nconst createRootElement = (id: string): HTMLElement => {\n  const rootEl = document.createElement('div');\n  rootEl.setAttribute('id', id);\n  document.body.appendChild(rootEl);\n  return rootEl;\n};\n\nexport const usePortal = (id: string): HTMLElement => {\n  const rootRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const existingEl = document.querySelector(`#${id}`);\n    const parentElem = existingEl || createRootElement(id);\n    parentElem.appendChild(rootRef.current);\n\n    return () => rootRef.current.remove();\n  }, [id]);\n\n  // https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n  const getRootElem = (): HTMLElement => {\n    if (!rootRef.current) {\n      rootRef.current = document.createElement('div');\n    }\n    return rootRef.current;\n  };\n\n  return getRootElem();\n};\n"],"file":"usePortal.js"}